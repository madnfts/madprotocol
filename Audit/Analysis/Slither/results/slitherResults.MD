# Slither Results



The following number of issues were found, categorized by their severity:

- Critical: ? issues
- High: 19 issues
- Medium: 22 issues
- Low: 13 issues
- Optimization: 26 issues



# Excluded Detectors

 - *pragma*

- *solc-version*

- *assembly*

- *naming-convention*


## Smart Contracts Analysed With Issues:
- [contracts/Marketplace/MADMarketplaceBase.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol)
- [contracts/Router/MADRouterBase.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol)
- [contracts/Marketplace/MADMarketplace721.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol)
- [contracts/Factory/MADFactoryBase.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol)
- [contracts/Marketplace/MADMarketplace1155.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol)
- [contracts/lib/splitter/SplitterImpl.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/splitter/SplitterImpl.sol)
- [contracts/MADTokens/ERC1155/ERC1155Basic.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/ERC1155/ERC1155Basic.sol)
- [contracts/MADTokens/ERC721/ERC721Basic.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/ERC721/ERC721Basic.sol)
- [contracts/Factory/MADFactory1155.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory1155.sol)
- [contracts/Factory/MADFactory721.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory721.sol)
- [contracts/lib/utils/Counters.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/utils/Counters.sol)
- [contracts/MADTokens/common/ImplBase.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol)
- [contracts/Router/MADRouter721.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouter721.sol)
- [contracts/Router/MADRouter1155.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouter1155.sol)
- [contracts/lib/tokens/ERC1155/Base/ERC1155B.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/ERC1155/Base/ERC1155B.sol)
- [contracts/lib/tokens/ERC721/Base/ERC721.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/ERC721/Base/ERC721.sol)
- [contracts/lib/utils/MerkleProof.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/utils/MerkleProof.sol)
- [contracts/lib/utils/CREATE3.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/utils/CREATE3.sol)
- [contracts/lib/uniswap/IUniswapV3SwapCallback.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/uniswap/IUniswapV3SwapCallback.sol)
- [contracts/lib/utils/SafeTransferLib.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/utils/SafeTransferLib.sol)
- [contracts/lib/tokens/common/ERC2981.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/common/ERC2981.sol)
- [contracts/lib/auth/Owned.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/auth/Owned.sol)

## Smart Contracts Analysed With NO Issues:
- [contracts/MAD.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MAD.sol)
- [contracts/static_analysis.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/static_analysis.sol)
- [contracts/lib/auth/FactoryVerifier.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/auth/FactoryVerifier.sol)
- [contracts/lib/deployers/ERC1155Deployer.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/deployers/ERC1155Deployer.sol)
- [contracts/lib/deployers/ERC721Deployer.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/deployers/ERC721Deployer.sol)
- [contracts/lib/deployers/SplitterDeployer.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/deployers/SplitterDeployer.sol)
- [contracts/lib/security/DCPrevent.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/security/DCPrevent.sol)
- [contracts/lib/security/Pausable.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/security/Pausable.sol)
- [contracts/lib/security/ReentrancyGuard.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/security/ReentrancyGuard.sol)
- [contracts/lib/splitter/SplitterEventsAndErrors.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/splitter/SplitterEventsAndErrors.sol)
- [contracts/lib/test/erc1155-mock.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/test/erc1155-mock.sol)
- [contracts/lib/test/erc20-mock.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/test/erc20-mock.sol)
- [contracts/lib/test/erc2981-mock.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/test/erc2981-mock.sol)
- [contracts/lib/test/erc721-mock.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/test/erc721-mock.sol)
- [contracts/lib/test/test-interfaces.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/test/test-interfaces.sol)
- [contracts/lib/tokens/ERC20.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/ERC20.sol)
- [contracts/lib/tokens/common/FeeOracle.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/common/FeeOracle.sol)
- [contracts/lib/tokens/ERC1155/Base/interfaces/IERC1155.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/ERC1155/Base/interfaces/IERC1155.sol)
- [contracts/lib/tokens/ERC1155/Base/utils/ERC1155Holder.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/ERC1155/Base/utils/ERC1155Holder.sol)
- [contracts/lib/tokens/ERC721/Base/interfaces/IERC721.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/ERC721/Base/interfaces/IERC721.sol)
- [contracts/lib/tokens/ERC721/Base/utils/ERC721Holder.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/ERC721/Base/utils/ERC721Holder.sol)
- [contracts/lib/uniswap/ISwapRouter.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/uniswap/ISwapRouter.sol)
- [contracts/lib/utils/Strings.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/utils/Strings.sol)
- [contracts/MADTokens/common/interfaces/ImplBaseEventsAndErrors.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/interfaces/ImplBaseEventsAndErrors.sol)
- [contracts/Shared/EventsAndErrors.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Shared/EventsAndErrors.sol)
- [contracts/Shared/MADBase.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Shared/MADBase.sol)
- [contracts/Shared/Types.sol](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Shared/Types.sol)




# uninitialized-state

> Items Found: 19

_Item 1 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L50:

- [MADMarketplaceBase.recipient](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L50) is never initialized. It is used in:
	- [MADMarketplaceBase.setRecipient(address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L338-L347)
	- [MADMarketplace1155._intPath(Types.Order1155,uint256,bytes32,address,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L298-L331)
	- [MADMarketplace1155._extPath0(Types.Order1155,uint256,bytes32,address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L333-L366)
	- [MADMarketplace1155._extPath1(Types.Order1155,uint256,bytes32,address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L368-L386)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 2 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L54:

- [MADMarketplaceBase.madFactory](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L54) is never initialized. It is used in:
	- [MADMarketplaceBase.setFactory(FactoryVerifier)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L275-L284)
	- [MADMarketplace1155.buy(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L118-L153)
	- [MADMarketplace1155.claim(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L158-L186)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 3 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L48:

- [MADRouterBase.madFactory](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L48) is never initialized. It is used in:
	- [MADRouterBase.setFactory(FactoryVerifier)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L121-L130)
	- [MADRouter721._tokenRender(address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouter721.sol#L144-L148)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 4 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L30:

- [MADMarketplace721.feeSelector](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L30) is never initialized. It is used in:
	- [MADMarketplace721.buy(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L104-L150)
	- [MADMarketplace721.claim(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L155-L192)
	- [MADMarketplace721._feeResolver(uint256,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L376-L393)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 5 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L48:

- [MADRouterBase.madFactory](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L48) is never initialized. It is used in:
	- [MADRouterBase.setFactory(FactoryVerifier)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L121-L130)
	- [MADRouter1155._tokenRender(address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouter1155.sol#L197-L201)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 6 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L60:

- [MADFactoryBase.router](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L60) is never initialized. It is used in:
	- [MADFactoryBase._isRouter()](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L378-L388)
	- [MADFactoryBase.setRouter(address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L483-L491)
	- [MADFactory721.createCollection(uint8,string,string,string,uint256,uint256,string,address,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory721.sol#L50-L89)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 7 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L47:

- [MADMarketplaceBase.minBidValue](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L47) is never initialized. It is used in:
	- [MADMarketplaceBase._bidChecks(uint8,uint256,address,uint256,uint256,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L155-L199)
	- [MADMarketplaceBase.updateSettings(uint256,uint256,uint256,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L304-L334)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 8 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L60:

- [MADFactoryBase.router](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L60) is never initialized. It is used in:
	- [MADFactoryBase._isRouter()](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L378-L388)
	- [MADFactoryBase.setRouter(address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L483-L491)
	- [MADFactory1155.createCollection(uint8,string,string,string,uint256,uint256,string,address,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory1155.sol#L61-L112)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 9 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L48:

- [MADMarketplaceBase.maxOrderDuration](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L48) is never initialized. It is used in:
	- [MADMarketplaceBase._makeOrderChecks(uint256,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L108-L133)
	- [MADMarketplaceBase.updateSettings(uint256,uint256,uint256,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L304-L334)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 10 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L46:

- [MADMarketplaceBase.minAuctionIncrement](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L46) is never initialized. It is used in:
	- [MADMarketplaceBase.updateSettings(uint256,uint256,uint256,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L304-L334)
	- [MADMarketplace1155.bid(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L82-L113)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 11 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L45:

- [MADMarketplaceBase.minOrderDuration](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L45) is never initialized. It is used in:
	- [MADMarketplaceBase._makeOrderChecks(uint256,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L108-L133)
	- [MADMarketplaceBase.updateSettings(uint256,uint256,uint256,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L304-L334)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 12 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L39:

- [MADRouterBase.recipient](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L39) is never initialized. It is used in:
	- [MADRouterBase.setRecipient(address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L134-L142)
	- [MADRouter721.withdraw(address,ERC20)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouter721.sol#L121-L133)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 13 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L66:

- [MADFactoryBase.signer](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L66) is never initialized. It is used in:
	- [MADFactoryBase.setSigner(address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L495-L503)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 14 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L46:

- [MADMarketplaceBase.minAuctionIncrement](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L46) is never initialized. It is used in:
	- [MADMarketplaceBase.updateSettings(uint256,uint256,uint256,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L304-L334)
	- [MADMarketplace721.bid(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L66-L99)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 15 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L39:

- [MADRouterBase.recipient](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L39) is never initialized. It is used in:
	- [MADRouterBase.setRecipient(address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L134-L142)
	- [MADRouter1155.withdraw(address,ERC20)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouter1155.sol#L174-L186)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 16 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L63:

- [MADFactoryBase.market](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L63) is never initialized. It is used in:
	- [MADFactoryBase._isMarket()](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L426-L433)
	- [MADFactoryBase.setMarket(address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L472-L479)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 17 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L54:

- [MADMarketplaceBase.madFactory](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L54) is never initialized. It is used in:
	- [MADMarketplaceBase.setFactory(FactoryVerifier)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L275-L284)
	- [MADMarketplace721.buy(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L104-L150)
	- [MADMarketplace721.claim(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L155-L192)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 18 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L33:

- [MADMarketplace1155.feeSelector](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L33) is never initialized. It is used in:
	- [MADMarketplace1155.buy(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L118-L153)
	- [MADMarketplace1155.claim(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L158-L186)
	- [MADMarketplace1155._feeResolver(uint256,uint256,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L388-L408)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 19 / 19_


## Severity

**Impact:** High

**Likelihood:** High

## Description

- L50:

- [MADMarketplaceBase.recipient](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L50) is never initialized. It is used in:
	- [MADMarketplaceBase.setRecipient(address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L338-L347)
	- [MADMarketplace721._intPath(Types.Order721,uint256,bytes32,address,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L296-L329)
	- [MADMarketplace721._extPath0(Types.Order721,uint256,bytes32,address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L331-L358)
	- [MADMarketplace721._extPath1(Types.Order721,uint256,bytes32,address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L360-L374)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---


# divide-before-multiply

> Items Found: 2

_Item 1 / 2_


## Severity

**Impact:** Medium

**Likelihood:** Medium

## Description

- L402-L434:

- [MADMarketplace721.getCurrentPrice(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L402-L434) performs a multiplication on the result of a division:
	- [_tick_getCurrentPrice_asm_0 = _startPrice_getCurrentPrice_asm_0 - _endPrice_getCurrentPrice_asm_0 / _endTime_getCurrentPrice_asm_0 - _startTime_getCurrentPrice_asm_0](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L419)
	- [price = _startPrice_getCurrentPrice_asm_0 - timestamp()() - _startTime_getCurrentPrice_asm_0 * _tick_getCurrentPrice_asm_0](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L420)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 2 / 2_


## Severity

**Impact:** Medium

**Likelihood:** Medium

## Description

- L417-L449:

- [MADMarketplace1155.getCurrentPrice(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L417-L449) performs a multiplication on the result of a division:
	- [_tick_getCurrentPrice_asm_0 = _startPrice_getCurrentPrice_asm_0 - _endPrice_getCurrentPrice_asm_0 / _endTime_getCurrentPrice_asm_0 - _startTime_getCurrentPrice_asm_0](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L434)
	- [price = _startPrice_getCurrentPrice_asm_0 - timestamp()() - _startTime_getCurrentPrice_asm_0 * _tick_getCurrentPrice_asm_0](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L435)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---


# incorrect-equality

> Items Found: 1

_Item 1 / 1_


## Severity

**Impact:** Medium

**Likelihood:** High

## Description

- L147-L171:

- [SplitterImpl.release(ERC20,address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/splitter/SplitterImpl.sol#L147-L171) uses a dangerous strict equality:
	- [payment == 0](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/splitter/SplitterImpl.sol#L154)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---


# locked-ether

> Items Found: 5

_Item 1 / 5_


## Severity

**Impact:** Medium

**Likelihood:** High

## Description

- L10-L459:

- Contract locking ether found:
	Contract [MADMarketplace1155](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L10-L459) has payable functions:
	 - [MADMarketplaceBase.receive()](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L82)
	 - [MADMarketplace1155.bid(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L82-L113)
	 - [MADMarketplace1155.buy(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace1155.sol#L118-L153)
	But does not have a function to withdraw the ether


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 2 / 5_


## Severity

**Impact:** Medium

**Likelihood:** High

## Description

- L8-L247:

- Contract locking ether found:
	Contract [ERC1155Basic](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/ERC1155/ERC1155Basic.sol#L8-L247) has payable functions:
	 - [ERC1155Basic.mintTo(address,uint256,uint256[],address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/ERC1155/ERC1155Basic.sol#L36-L60)
	 - [ERC1155Basic.mintBatchTo(address,uint256[],uint256[],address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/ERC1155/ERC1155Basic.sol#L62-L85)
	 - [ERC1155Basic.burn(address[],uint256[],uint256[],address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/ERC1155/ERC1155Basic.sol#L87-L111)
	 - [ERC1155Basic.burnBatch(address,uint256[],uint256[],address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/ERC1155/ERC1155Basic.sol#L113-L137)
	 - [ERC1155Basic.mint(uint256,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/ERC1155/ERC1155Basic.sol#L143-L170)
	 - [ERC1155Basic.mintBatch(uint256[],uint256[])](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/ERC1155/ERC1155Basic.sol#L172-L204)
	But does not have a function to withdraw the ether


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 3 / 5_


## Severity

**Impact:** Medium

**Likelihood:** High

## Description

- L27-L297:

- Contract locking ether found:
	Contract [SplitterImpl](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/splitter/SplitterImpl.sol#L27-L297) has payable functions:
	 - [SplitterImpl.constructor(address[],uint256[])](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/splitter/SplitterImpl.sol#L58-L78)
	 - [SplitterImpl.receive()](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/splitter/SplitterImpl.sol#L92-L98)
	But does not have a function to withdraw the ether


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 4 / 5_


## Severity

**Impact:** Medium

**Likelihood:** High

## Description

- L10-L444:

- Contract locking ether found:
	Contract [MADMarketplace721](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L10-L444) has payable functions:
	 - [MADMarketplaceBase.receive()](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L82)
	 - [MADMarketplace721.bid(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L66-L99)
	 - [MADMarketplace721.buy(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L104-L150)
	But does not have a function to withdraw the ether


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 5 / 5_


## Severity

**Impact:** Medium

**Likelihood:** High

## Description

- L8-L142:

- Contract locking ether found:
	Contract [ERC721Basic](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/ERC721/ERC721Basic.sol#L8-L142) has payable functions:
	 - [ERC721Basic.mintTo(address,uint256,address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/ERC721/ERC721Basic.sol#L42-L65)
	 - [ERC721Basic.burn(uint256[],address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/ERC721/ERC721Basic.sol#L67-L89)
	 - [ERC721Basic.mint(uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/ERC721/ERC721Basic.sol#L95-L116)
	But does not have a function to withdraw the ether


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---


# tx-origin

> Items Found: 2

_Item 1 / 2_


## Severity

**Impact:** Medium

**Likelihood:** Medium

## Description

- L130-L153:

- [MADFactory1155.creatorCheck(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory1155.sol#L130-L153) uses tx.origin for authorization: [creator == origin()()](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory1155.sol#L144-L146)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 2 / 2_


## Severity

**Impact:** Medium

**Likelihood:** Medium

## Description

- L117-L137:

- [MADFactory721.creatorCheck(bytes32)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory721.sol#L117-L137) uses tx.origin for authorization: [creator == origin()()](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory721.sol#L128-L130)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---


# tautology

> Items Found: 2

_Item 1 / 2_


## Severity

**Impact:** Medium

**Likelihood:** High

## Description

- L39-L49:

- [Counters.decrement(Counters.Counter)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/utils/Counters.sol#L39-L49) contains a tautology or contradiction:
	- [! _val_decrement_asm_0 | _val_decrement_asm_0 < 0x00](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/utils/Counters.sol#L42-L46)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 2 / 2_


## Severity

**Impact:** Medium

**Likelihood:** High

## Description

- L51-L61:

- [Counters.decrement(Counters.Counter,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/utils/Counters.sol#L51-L61) contains a tautology or contradiction:
	- [! _val_decrement_asm_0 | _val_decrement_asm_0 < 0x00 | _val_decrement_asm_0 - amount < 0x00](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/utils/Counters.sol#L54-L58)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---


# uninitialized-local

> Items Found: 7

_Item 1 / 7_


## Severity

**Impact:** Medium

**Likelihood:** Medium

## Description

- L208:

- [ERC1155Basic._sumAmounts(uint256[]).i](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/ERC1155/ERC1155Basic.sol#L208) is a local variable never initialized


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 2 / 7_


## Severity

**Impact:** Medium

**Likelihood:** Medium

## Description

- L171:

- [ImplBase.withdrawERC20(ERC20,address).i](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L171) is a local variable never initialized


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 3 / 7_


## Severity

**Impact:** Medium

**Likelihood:** Medium

## Description

- L138:

- [ImplBase.withdraw(address).i](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L138) is a local variable never initialized


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 4 / 7_


## Severity

**Impact:** Medium

**Likelihood:** Medium

## Description

- L148:

- [ImplBase.withdraw(address).j](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L148) is a local variable never initialized


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 5 / 7_


## Severity

**Impact:** Medium

**Likelihood:** Medium

## Description

- L181:

- [ImplBase.withdrawERC20(ERC20,address).j](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L181) is a local variable never initialized


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 6 / 7_


## Severity

**Impact:** Medium

**Likelihood:** Medium

## Description

- L70:

- [SplitterImpl.constructor(address[],uint256[]).i](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/splitter/SplitterImpl.sol#L70) is a local variable never initialized


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 7 / 7_


## Severity

**Impact:** Medium

**Likelihood:** Medium

## Description

- L132:

- [SplitterImpl.releaseAll().i](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/splitter/SplitterImpl.sol#L132) is a local variable never initialized


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---


# unused-return

> Items Found: 2

_Item 1 / 2_


## Severity

**Impact:** Medium

**Likelihood:** Medium

## Description

- L144-L148:

- [MADRouter721._tokenRender(address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouter721.sol#L144-L148) ignores return value by [madFactory.creatorCheck(colID)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouter721.sol#L146)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 2 / 2_


## Severity

**Impact:** Medium

**Likelihood:** Medium

## Description

- L197-L201:

- [MADRouter1155._tokenRender(address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouter1155.sol#L197-L201) ignores return value by [madFactory.creatorCheck(colID)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouter1155.sol#L199)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---


# write-after-write

> Items Found: 1

_Item 1 / 1_


## Severity

**Impact:** Medium

**Likelihood:** High

## Description

- L76:

- [MADRouterBase.feeLookup(bytes4).fee](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L76) is written in both
	[fee = sload(uint256)(feeBurn)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L88)
	[fee = 0x00](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L91)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---


# calls-loop

> Items Found: 6

_Item 1 / 6_


## Severity

**Impact:** Low

**Likelihood:** Medium

## Description

- L167-L179:

- [ERC1155B._mint(address,uint256,uint256,bytes)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/ERC1155/Base/ERC1155B.sol#L167-L179) has external calls inside a loop: [require(bool,string)(ERC1155TokenReceiver(to).onERC1155Received(msg.sender,address(0),id,amount,data) == ERC1155TokenReceiver.onERC1155Received.selector,UNSAFE_RECIPIENT)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/ERC1155/Base/ERC1155B.sol#L173-L177)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 2 / 6_


## Severity

**Impact:** Low

**Likelihood:** Medium

## Description

- L126-L155:

- [ImplBase.withdraw(address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L126-L155) has external calls inside a loop: [share = splitter._shares(addr)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L141)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 3 / 6_


## Severity

**Impact:** Low

**Likelihood:** Medium

## Description

- L126-L155:

- [ImplBase.withdraw(address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L126-L155) has external calls inside a loop: [addr = splitter._payees(i)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L140)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 4 / 6_


## Severity

**Impact:** Low

**Likelihood:** Medium

## Description

- L157-L188:

- [ImplBase.withdrawERC20(ERC20,address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L157-L188) has external calls inside a loop: [share = splitter._shares(addr)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L174)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 5 / 6_


## Severity

**Impact:** Low

**Likelihood:** Medium

## Description

- L181-L190:

- [ERC721._safeMint(address,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/ERC721/Base/ERC721.sol#L181-L190) has external calls inside a loop: [require(bool,string)(to.code.length == 0 || ERC721TokenReceiver(to).onERC721Received(msg.sender,address(0),id,) == ERC721TokenReceiver.onERC721Received.selector,UNSAFE_RECIPIENT)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/ERC721/Base/ERC721.sol#L184-L189)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 6 / 6_


## Severity

**Impact:** Low

**Likelihood:** Medium

## Description

- L157-L188:

- [ImplBase.withdrawERC20(ERC20,address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L157-L188) has external calls inside a loop: [addr = splitter._payees(i)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L173)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---


# reentrancy-benign

> Items Found: 3

_Item 1 / 3_


## Severity

**Impact:** Low

**Likelihood:** Medium

## Description

- L50-L89:

- Reentrancy in [MADFactory721.createCollection(uint8,string,string,string,uint256,uint256,string,address,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory721.sol#L50-L89):
	External calls:
	- [(tokenSalt,deployed) = ERC721BasicDeployer._721BasicDeploy(_tokenSalt,_name,_symbol,_baseURI,_price,_maxSupply,_splitter,router,_royalty,erc20)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory721.sol#L64-L75)
	State variables written after the call(s):
	- [colInfo[colId] = Types.Collection721(tx.origin,Types.ERC721Type.ERC721Basic,tokenSalt,block.number,_splitter)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory721.sol#L80-L86)
	- [userTokens[tx.origin].push(colId)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory721.sol#L78)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 2 / 3_


## Severity

**Impact:** Low

**Likelihood:** Medium

## Description

- L61-L112:

- Reentrancy in [MADFactory1155.createCollection(uint8,string,string,string,uint256,uint256,string,address,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory1155.sol#L61-L112):
	External calls:
	- [(tokenSalt,deployed) = ERC1155BasicDeployer._1155BasicDeploy(_tokenSalt,_uri,_price,_maxSupply,_splitter,router,_royalty,erc20)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory1155.sol#L80-L90)
	State variables written after the call(s):
	- [colInfo[colId] = Types.Collection1155(tx.origin,Types.ERC1155Type.ERC1155Basic,tokenSalt,block.number,_splitter)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory1155.sol#L95-L101)
	- [userTokens[tx.origin].push(colId)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactory1155.sol#L93)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 3 / 3_


## Severity

**Impact:** Low

**Likelihood:** Medium

## Description

- L307-L347:

- Reentrancy in [MADFactoryBase._splitterResolver(string,address,address,uint256,uint256,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L307-L347):
	External calls:
	- [(splitter,splitterSalt) = SplitterDeployer._SplitterDeploy(_splitterSalt,_payees,_shares)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L322-L327)
	State variables written after the call(s):
	- [splitterInfo[tx.origin][splitter] = Types.SplitterConfig(splitter,splitterSalt,_ambassador,_project,_ambShare,_projectShare,true)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L329-L338)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---


# reentrancy-events

> Items Found: 4

_Item 1 / 4_


## Severity

**Impact:** Low

**Likelihood:** Medium

## Description

- L296-L329:

- Reentrancy in [MADMarketplace721._intPath(Types.Order721,uint256,bytes32,address,uint256)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L296-L329):
	External calls:
	- [_order.token.safeTransferFrom(address(this),_to,_order.tokenId)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L327)
	Event emitted after the call(s):
	- [Claim(_order.token,_order.tokenId,_orderId,_order.seller,_to,_price)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L328)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 2 / 4_


## Severity

**Impact:** Low

**Likelihood:** Medium

## Description

- L360-L374:

- Reentrancy in [MADMarketplace721._extPath1(Types.Order721,uint256,bytes32,address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L360-L374):
	External calls:
	- [_order.token.safeTransferFrom(address(this),_to,_order.tokenId)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L372)
	Event emitted after the call(s):
	- [Claim(_order.token,_order.tokenId,_orderId,_order.seller,_to,_price)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L373)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 3 / 4_


## Severity

**Impact:** Low

**Likelihood:** Medium

## Description

- L384-L416:

- Reentrancy in [MADMarketplaceBase._withdrawOutbid(ERC20,uint256,uint160)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L384-L416):
	External calls:
	- [amountOut = swapRouter.exactInputSingle(params)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L414)
	Event emitted after the call(s):
	- [WithdrawOutbid(msg.sender,address(_token),amountOut)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L415)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 4 / 4_


## Severity

**Impact:** Low

**Likelihood:** Medium

## Description

- L331-L358:

- Reentrancy in [MADMarketplace721._extPath0(Types.Order721,uint256,bytes32,address)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L331-L358):
	External calls:
	- [_order.token.safeTransferFrom(address(this),_to,_order.tokenId)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L356)
	Event emitted after the call(s):
	- [Claim(_order.token,_order.tokenId,_orderId,_order.seller,_to,_price)](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplace721.sol#L357)


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---


# constable-states

> Items Found: 18

_Item 1 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L45:

- [MADRouterBase.maxFeeBurn](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L45) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 2 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L46:

- [MADMarketplaceBase.minAuctionIncrement](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L46) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 3 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L47:

- [MADMarketplaceBase.minBidValue](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L47) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 4 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L48:

- [MADRouterBase.madFactory](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L48) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 5 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L27:

- [MADMarketplaceBase.royaltyFee](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L27) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 6 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L42:

- [MADRouterBase.maxFeeMint](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L42) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 7 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L54:

- [MADMarketplaceBase.madFactory](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L54) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 8 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L39:

- [MADRouterBase.recipient](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L39) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 9 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L28:

- [MADMarketplaceBase.maxFee](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L28) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 10 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L63:

- [MADFactoryBase.market](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L63) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 11 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L42:

- [MADMarketplaceBase.MAX_ROYALTY_FEE](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L42) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 12 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L36:

- [MADRouterBase.feeBurn](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L36) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 13 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L50:

- [MADMarketplaceBase.recipient](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L50) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 14 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L60:

- [MADFactoryBase.router](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L60) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 15 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L43:

- [MADMarketplaceBase.MAX_FEES](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L43) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 16 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L45:

- [MADMarketplaceBase.minOrderDuration](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L45) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 17 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L66:

- [MADFactoryBase.signer](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Factory/MADFactoryBase.sol#L66) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 18 / 18_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L48:

- [MADMarketplaceBase.maxOrderDuration](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Marketplace/MADMarketplaceBase.sol#L48) should be constant


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---


# immutable-states

> Items Found: 8

_Item 1 / 8_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L49:

- [ImplBase.maxSupply](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L49) should be immutable


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 2 / 8_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L10:

- [ERC2981.royaltyFee](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/common/ERC2981.sol#L10) should be immutable


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 3 / 8_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L33:

- [MADRouterBase.feeMint](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/Router/MADRouterBase.sol#L33) should be immutable


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 4 / 8_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L25:

- [ImplBase.splitter](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L25) should be immutable


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 5 / 8_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L19:

- [Owned.owner](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/auth/Owned.sol#L19) should be immutable


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 6 / 8_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L12:

- [ERC2981._royaltyRecipient](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/lib/tokens/common/ERC2981.sol#L12) should be immutable


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 7 / 8_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L28:

- [ImplBase.erc20](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L28) should be immutable


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---

_Item 8 / 8_


## Severity

**Impact:** Optimization

**Likelihood:** High

## Description

- L46:

- [ImplBase.price](https://github.com/johnashu/madnfts-solidity-contracts/tree/main/contracts/MADTokens/common/ImplBase.sol#L46) should be immutable


## Example / POC

## Recommendations

*[Slither Detectors Information](https://github.com/crytic/slither?s=35#detectors)*

---


# ERC Compliance Checks


# Check ERC1155B

`/auditFiles/madnfts-solidity-contracts# slither-check-erc ./contracts/lib/tokens/erc1155/Base/ERC1155B.sol ERC1155B`

## Check functions
```
[ ] totalSupply() is missing
[ ] balanceOf(address) is missing
[ ] transfer(address,uint256) is missing
[ ] transferFrom(address,address,uint256) is missing
[ ] approve(address,uint256) is missing
[ ] allowance(address,address) is missing
[ ] name() is missing (optional)
[ ] symbol() is missing (optional)
[ ] decimals() is missing (optional)

## Check events

[ ] Transfer(address,address,uint256) is missing
[ ] Approval(address,address,uint256) is missing

[ ] ERC1155B is not protected for the ERC20 approval race condition
```

# Check ERC20

`/auditFiles/madnfts-solidity-contracts# slither-check-erc /auditFiles/madnfts-solidity-contracts/contracts/lib/tokens/erc20.sol ERC20`

## Check functions

```
[] totalSupply() is present
        [] totalSupply() -> (uint256) (correct return type)
        [] totalSupply() is view
[] balanceOf(address) is present
        [] balanceOf(address) -> (uint256) (correct return type)
        [] balanceOf(address) is view
[] transfer(address,uint256) is present
        [] transfer(address,uint256) -> (bool) (correct return type)
        [ ] Must emit be view Transfer(address,address,uint256)
[] transferFrom(address,address,uint256) is present
        [] transferFrom(address,address,uint256) -> (bool) (correct return type)
        [ ] Must emit be view Transfer(address,address,uint256)
[] approve(address,uint256) is present
        [] approve(address,uint256) -> (bool) (correct return type)
        [ ] Must emit be view Approval(address,address,uint256)
[] allowance(address,address) is present
        [] allowance(address,address) -> (uint256) (correct return type)
        [] allowance(address,address) is view

[ ] name() is missing (optional)
[ ] symbol() is missing (optional)
[ ] decimals() is missing (optional)

```

## Check events

```
[] Transfer(address,address,uint256) is present
        [] parameter 0 is indexed
        [] parameter 1 is indexed
[] Approval(address,address,uint256) is present
        [] parameter 0 is indexed
        [] parameter 1 is indexed


[ ] ERC20 is not protected for the ERC20 approval race condition
```
# Check ERC721

`/auditFiles/madnfts-solidity-contracts# slither-check-erc ./contracts/lib/tokens/erc721/Base/ERC721.sol ERC721`


## Check functions

```
[ ] totalSupply() is missing
[] balanceOf(address) is present
        [] balanceOf(address) -> (uint256) (correct return type)
        [] balanceOf(address) is view
[ ] transfer(address,uint256) is missing
[] transferFrom(address,address,uint256) is present
        [ ] transferFrom(address,address,uint256) -> () should returnbool
        [] Transfer(address,address,uint256) is emitted
[] approve(address,uint256) is present
        [ ] approve(address,uint256) -> () should returnbool
        [] Approval(address,address,uint256) is emitted
[ ] allowance(address,address) is missing
[] name() is present
        [] name() -> (string) (correct return type)
        [] name() is view
[] symbol() is present
        [] symbol() -> (string) (correct return type)
        [] symbol() is view
[ ] decimals() is missing (optional)
```

## Check events

```
[] Transfer(address,address,uint256) is present
        [] parameter 0 is indexed
        [] parameter 1 is indexed
[] Approval(address,address,uint256) is present
        [] parameter 0 is indexed
        [] parameter 1 is indexed


[ ] ERC721 is not protected for the ERC20 approval race condition
```
